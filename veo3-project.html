<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Veo3用 プロンプト生成ツール - プロジェクト詳細</title>
    <meta name="description" content="動画を解析してVeo3用のJSONプロンプトを生成するWebアプリケーション">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- ナビゲーション -->
    <nav class="navigation" id="navigation">
        <div class="nav-content">
            <a href="index.html" class="nav-brand" aria-label="ホームに戻る">鈴木皆人</a>
            
            <ul class="nav-links" role="menubar">
                <li role="none"><a href="index.html#home" class="nav-link" role="menuitem">ホーム</a></li>
                <li role="none"><a href="index.html#projects" class="nav-link active" role="menuitem">プロジェクト</a></li>
                <li role="none"><a href="index.html#about" class="nav-link" role="menuitem">プロフィール</a></li>
                <li role="none"><a href="index.html#contact" class="nav-link" role="menuitem">コンタクト</a></li>
            </ul>
            
            <div class="contact-dropdown">
                <button class="button button-primary tappable contact-trigger" aria-label="お問い合わせ方法を選択" aria-expanded="false">
                    お問い合わせ
                    <span class="dropdown-icon">▾</span>
                </button>
                <div class="contact-options" role="menu" aria-hidden="true">
                    <a href="mailto:minato2ban@icloud.com?subject=ポートフォリオサイトからのお問い合わせ&body=はじめまして。%0D%0A%0D%0Aお名前：%0D%0Aご用件：%0D%0A%0D%0Aよろしくお願いいたします。" 
                       class="contact-option" role="menuitem">
                        <span class="contact-icon">✉️</span>
                        メールアプリで開く
                    </a>
                    <button class="contact-option copy-email-btn" role="menuitem" data-email="minato2ban@icloud.com">
                        <span class="contact-icon">📋</span>
                        メールアドレスをコピー
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <main>
        <!-- プロジェクトヒーロー -->
        <section class="project-hero section">
            <div class="container">
                <a href="index.html#projects" class="back-button">プロジェクト一覧に戻る</a>
                
                <h1>Veo3用 プロンプト生成ツール</h1>
                <p class="hero-subtitle">AI動画解析 × プロンプト自動生成システム</p>
                
                <p class="hero-description">
                    動画をアップロードすると、Vertex AI（Gemini）が内容を説明テキストにし、テンプレートと組み合わせてOpenRouterでVeo3互換のJSONプロンプトを生成します。最小限の流れで使える実装です。
                </p>
            </div>
        </section>

        <!-- プロジェクト詳細 -->
        <section class="section">
            <div class="container">
                <!-- プロジェクトメタ情報 -->
                <div class="project-meta">
                    <div class="project-meta-item">
                        <div class="project-meta-label">プロジェクト期間</div>
                        <div class="project-meta-value">2024年後半</div>
                    </div>
                    
                    <div class="project-meta-item">
                        <div class="project-meta-label">役割</div>
                        <div class="project-meta-value">フルスタック開発・AI実装</div>
                    </div>
                    
                    <div class="project-meta-item">
                        <div class="project-meta-label">プロジェクト種別</div>
                        <div class="project-meta-value">個人開発・PoC</div>
                    </div>
                </div>

                <!-- 課題と解決アプローチ -->
                <div class="grid grid-2" style="margin-top: var(--space-8);">
                    <div>
                        <h2>解決したい課題</h2>
                        <p>Veo3に渡すJSONプロンプトを手作業で組み立てるのは手間が大きく、形式の揺れや抜け漏れが起きやすいという課題がありました。そこで、動画から必要情報を機械的に抽出し、決まったテンプレートに流し込む形で安定化を図りました：</p>
                        
                        <ul class="feature-list">
                            <li>動画の要点を一定の粒度で説明に落とす工数</li>
                            <li>Veo3向けJSONの項目抜け・表現ゆれの防止</li>
                            <li>座標系・カメラ指定などの記述ルールの統一</li>
                        </ul>
                    </div>

                    <div>
                        <h2>アプローチと技術選択</h2>
                        <p>Next.jsのAPIで「動画→説明テキスト→JSON生成」の直列パイプラインを実装しました：</p>
                        
                        <div class="highlight-box">
                            <h4>1. 動画解析（Vertex）</h4>
                            <p>GCSへアップロード後、Gemini 2.5-Flashで内容説明テキストを取得</p>
                        </div>
                        
                        <div class="highlight-box">
                            <h4>2. テンプレート化</h4>
                            <p>説明テキストを事前定義テンプレートに差し込み、モデル指示を統一</p>
                        </div>
                        
                        <div class="highlight-box">
                            <h4>3. JSON生成（OpenRouter）</h4>
                            <p>response_format=json_object でVeo3互換JSONを強制出力</p>
                        </div>
                    </div>
                </div>

                <!-- デモ動画 & GitHub -->
                <div style="margin-top: var(--space-8);">
                    <h2>デモ動画</h2>
                    <div class="media-frame" style="margin-top: var(--space-4);">
                        <video controls preload="metadata" playsinline>
                            <source src="videos/veo3-demo.mp4" type="video/mp4">
                            お使いのブラウザは動画に対応していません。
                        </video>
                    </div>

                    <div class="repo-links">
                        <a href="https://github.com/yourname/veo3-prompt-tool" class="button button-secondary" target="_blank" rel="noopener">GitHub リポジトリ</a>
                        <a href="https://github.com/yourname/veo3-prompt-tool#readme" class="button button-tertiary" target="_blank" rel="noopener">README</a>
                    </div>
                </div>

                <!-- 技術実装詳細 -->
                <div style="margin-top: var(--space-8);">
                    <h2>主要機能と技術実装</h2>
                    
                    <div class="grid grid-auto" style="margin-top: var(--space-6);">
                        <div class="card">
                            <h3>動画アップロード & 解析</h3>
                            <p>対応形式（MP4/MOV/AVI/MKV/WebM）。GCSに置いた後、Geminiで説明テキスト化：</p>
                            <ul class="feature-list">
                                <li>動画は最大2GBまで（実装制限）</li>
                                <li>Gemini応答が空の際はエラー応答</li>
                            </ul>
                        </div>

                        <div class="card">
                            <h3>テンプレート整形</h3>
                            <p>Veo3向けの必須フィールドが揃うようテンプレートを適用：</p>
                            <ul class="feature-list">
                                <li>version/engine_hint/meta/globals/scene 等の必須項目</li>
                                <li>カメラ/座標の表現（SCREEN-LEFT/RIGHT等）を統一</li>
                                <li>否定指定や品質制約を既定で付与</li>
                            </ul>
                        </div>

                        <div class="card">
                            <h3>JSON出力 & 簡易検証</h3>
                            <p>OpenRouterの応答をJSON解析し、必須フィールドの有無を確認：</p>
                            <ul class="feature-list">
                                <li>コードブロック除去 → JSON.parse → 必須項目チェック</li>
                                <li>不足時はエラーを返し再試行を促す</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- 使用技術 -->
                <div style="margin-top: var(--space-8);">
                    <h2>使用技術</h2>
                    
                    <div class="grid grid-2">
                        <div>
                            <h3>AI・クラウド</h3>
                            <div class="skill-tags">
                                <span class="skill-tag">Google Vertex AI</span>
                                <span class="skill-tag">Gemini 2.5-flash</span>
                                <span class="skill-tag">OpenRouter API</span>
                                <span class="skill-tag">Google Cloud Storage</span>
                            </div>
                        </div>

                        <div>
                            <h3>フロントエンド・バックエンド</h3>
                            <div class="skill-tags">
                                <span class="skill-tag">Next.js</span>
                                <span class="skill-tag">TypeScript</span>
                                <span class="skill-tag">Tailwind CSS</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 成果と学び -->
                <div style="margin-top: var(--space-8);">
                    <h2>成果と学び</h2>
                    
                    <div class="grid grid-2">
                        <div>
                            <h3>プロジェクトの成果</h3>
                            <ul class="feature-list">
                                <li>Veo3向け項目の抜け漏れをテンプレートで抑制</li>
                                <li>ファイル検証・エラー応答を追加して運用を安定化</li>
                            </ul>
                        </div>

                        <div>
                            <h3>技術的な学び</h3>
                            <ul class="feature-list">
                                <li>response_format=json_object の安定性と限界</li>
                                <li>Gemini応答が空になるケースの扱い</li>
                                <li>テンプレートでの表現統一の有効性</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- 実装のポイント -->
                <div class="highlight-box" style="margin-top: var(--space-8);">
                    <h4>実装で重視したポイント</h4>
                    <p>大げさにせず、(1) 入力検証、(2) テンプレ整形、(3) JSON検証 という最小限の工程で流れを安定化しました。必要に応じてモデルやテンプレの微調整で品質を上げる前提です。</p>
                </div>

                <!-- 次のプロジェクト -->
                <div style="margin-top: var(--space-8); text-align: center;">
                    <a href="neuro-project.html" class="button button-primary">
                        次のプロジェクト: 脳神経科学アプリ
                    </a>
                </div>
            </div>
        </section>
    </main>

    <!-- フッター -->
    <footer style="background: var(--bg-elev); padding: var(--space-6) 0; text-align: center; border-top: 1px solid var(--border);">
        <div class="container">
            <p class="text-caption">
                © 2025 鈴木皆人（Minato Suzuki）. All rights reserved.
            </p>
        </div>
    </footer>

    <script src="script.js"></script>
</body>
</html>

